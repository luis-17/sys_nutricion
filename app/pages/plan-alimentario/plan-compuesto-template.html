
<div class="panel panel-info panel-filled mt-10 mb-10">
	<div class="panel-heading">
		<h3 class="panel-title">Informacion Nutricional</h3>
	</div>
	<div class="panel-body p-5">
		<div class="table-responsive">
			<table class="table mb-0">
				<thead>
					<tr>
						<th>KCAL</th>
						<th>PROT (g)</th>
						<th>GRASA (g)</th>
						<th>HC (g)</th>
						<th>FIBRA (g)</th>
						<th>CENIZA</th>
						<th>CALCIO (mg)</th>
						<th>FOSFORO (mg)</th>
						<th>ZINC (mg)</th>
						<th>HIERRO (mg)</th>
					</tr>
				</thead>
				<tbody ng-if="plan.formaPlan == 'dia'">
					<tr>
						<td>{{dia.valoresGlobales.calorias}}</td>
						<td>{{dia.valoresGlobales.proteinas}}</td>
						<td>{{dia.valoresGlobales.grasas}}</td>
						<td>{{dia.valoresGlobales.carbohidratos}}</td>						
						<td>{{dia.valoresGlobales.fibras}}</td>
						<td>{{dia.valoresGlobales.cenizas}}</td>
						<td>{{dia.valoresGlobales.calcio}}</td>
						<td>{{dia.valoresGlobales.fosforo}}</td>
						<td>{{dia.valoresGlobales.zinc}}</td>
						<td>{{dia.valoresGlobales.hierro}}</td>
					</tr>
				</tbody>
				<tbody ng-if="plan.formaPlan == 'general'">
					<tr>
						<td>{{plan.dia.valoresGlobales.calorias}}</td>
						<td>{{plan.dia.valoresGlobales.proteinas}}</td>
						<td>{{plan.dia.valoresGlobales.grasas}}</td>
						<td>{{plan.dia.valoresGlobales.carbohidratos}}</td>						
						<td>{{plan.dia.valoresGlobales.fibras}}</td>
						<td>{{plan.dia.valoresGlobales.cenizas}}</td>
						<td>{{plan.dia.valoresGlobales.calcio}}</td>
						<td>{{plan.dia.valoresGlobales.fosforo}}</td>
						<td>{{plan.dia.valoresGlobales.zinc}}</td>
						<td>{{plan.dia.valoresGlobales.hierro}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
<fieldset ng-repeat="(indexTurno,turno) in dia.turnos" class="turno compuesto" ng-if="plan.formaPlan == 'dia'">
    <legend class="text-info f-16"><strong>{{turno.descripcion}}</strong></legend>            
    <form class="form-inline" style="text-align:left;">
        <label class="col-sm-1 col-xs-12 control-label minotaur-label pr-0" style="top: 6px;">Hora:</label>
        <div class="col-sm-4 col-xs-12 pl-0 pb-10">
            <select class="form-control input-sm mb-4" ng-model="turno.hora"
                ng-options="h.value for h in plan.horas">
            </select>
            <select class="form-control input-sm mb-4" ng-model="turno.minuto"
                ng-options="m.value for m in plan.minutos">
            </select>
            <select class="form-control input-sm mb-4" ng-model="turno.tiempo"
                ng-options="t.value for t in plan.tiempo">
            </select>
        </div> 

        <label class="col-sm-7 col-xs-12 control-label minotaur-label text-right" style="top: 6px;">
        	<span class="mr-10 text-orange">KCal: {{turno.valoresTurno.calorias}}</span>
        	<span class="mr-10 text-green">Prot: {{turno.valoresTurno.proteinas}}</span>
        	<span class="mr-10 text-red">HC: {{turno.valoresTurno.carbohidratos}}</span>
        	<span class="text-dutch">Grasas: {{turno.valoresTurno.grasas}}</span>
        </label>       
    </form>
    <div class="alimentos">
    	<div class="col-sm-12">
            <label class="control-label minotaur-label pr-0" style="top: 6px;">Alimentos:</label>
			<form class="form-inline" style="text-align:left;">
		        <div class="col-sm-4 col-xs-12 pl-0 pb-10" ng-repeat="(indexAlimento, alimento) in turno.alimentos">
		            <input type="text" class="form-control input-sm col-sm-7" ng-model="alimento.nombre_compuesto"
							style="width: 90%;" autocomplete="off" placeholder="Digite el alimento..." 
                                  typeahead-loading="loadingLocations" 
                                  uib-typeahead="item as item.nombre for item in plan.getAlimentoAutocomplete($viewValue)" 
                                  typeahead-min-length="2" 
                                  typeahead-on-select="plan.getSelectedAlimento($item, $model, $label, indexDia, indexTurno, indexAlimento)"
                                  ng-change="alimento.nombre = null;"  />

		            <label class="btn btn-sm text-red" ng-click="plan.eliminarAlimento(indexAlimento,indexTurno,indexDia); $event.stopPropagation();"> 
		            	<i class="fa fa-trash" tooltip-placement="left" uib-tooltip="QUITAR!"></i> 
		            </label>
		        </div>
		        <div class="col-sm-4 col-xs-12 pl-0 pb-10">
		            <input type="text"  class="form-control input-sm col-sm-7" ng-model="turno.temporal"
							style="width: 90%;" autocomplete="off" placeholder="Digite el alimento..." 
                                  typeahead-loading="loadingLocations" 
                                  uib-typeahead="item as item.nombre for item in plan.getAlimentoAutocomplete($viewValue)" 
                                  typeahead-min-length="2" 
                                  typeahead-on-select="plan.getSelectedTemporalAlimento($item, $model, $label, indexDia, indexTurno)"
                                    />

		            <label class="btn btn-sm text-green" ng-click="plan.agregarAlimento(indexDia, indexTurno); $event.stopPropagation();"> 
		            	<i class="fa fa-plus" tooltip-placement="left" uib-tooltip="AGREGAR!"></i> 
		            </label>
		        </div>        
		    </form>           
         </div>                 
    </div>    
</fieldset>
<div class="col-sm-12 mt-10" ng-if="plan.formaPlan == 'dia'">
 	<label class="control-label minotaur-label pr-0" style="top: 6px;">Indicaciones:</label>
    <textarea class="form-control input-sm mb-10" ng-model="turno.indicaciones"></textarea>
 </div>

<fieldset ng-repeat="turno in plan.dia.turnos" class="turno compuesto" ng-if="plan.formaPlan == 'general'">
    <legend class="text-info f-16"><strong>{{turno.descripcion}}</strong></legend>            
    <form class="form-inline" style="text-align:left;">
        <label class="col-sm-1 col-xs-12 control-label minotaur-label pr-0" style="top: 6px;">Hora:</label>
        <div class="col-sm-4 col-xs-12 pl-0 pb-10">
            <select class="form-control input-sm mb-4" ng-model="turno.hora"
                ng-options="h.value for h in plan.horas">
            </select>
            <select class="form-control input-sm mb-4" ng-model="turno.minuto"
                ng-options="m.value for m in plan.minutos">
            </select>
            <select class="form-control input-sm mb-4" ng-model="turno.tiempo"
                ng-options="t.value for t in plan.tiempo">
            </select>
        </div> 

        <label class="col-sm-7 col-xs-12 control-label minotaur-label text-right" style="top: 6px;">
        	<span class="mr-10 text-orange">KCal: {{turno.valoresTurno.calorias}}</span>
        	<span class="mr-10 text-green">Prot: {{turno.valoresTurno.proteinas}}</span>
        	<span class="mr-10 text-red">HC: {{turno.valoresTurno.carbohidratos}}</span>
        	<span class="text-dutch">Grasas: {{turno.valoresTurno.grasas}}</span>
        </label>       
    </form>
    <div class="alimentos">
    	<div class="col-sm-12">
            <label class="control-label minotaur-label pr-0" style="top: 6px;">Alimentos:</label>
			<form class="form-inline" style="text-align:left;">
		        <div class="col-sm-4 col-xs-12 pl-0 pb-10" ng-repeat="(indexAlimento, alimento) in turno.alimentos">
		            <input type="text" class="form-control input-sm col-sm-7" ng-model="alimento.nombre_compuesto"
							style="width: 90%;" autocomplete="off" placeholder="Digite el alimento..." 
                                  typeahead-loading="loadingLocations" 
                                  uib-typeahead="item as item.nombre for item in plan.getAlimentoAutocomplete($viewValue)" 
                                  typeahead-min-length="2" 
                                  typeahead-on-select="plan.getSelectedAlimento($item, $model, $label, indexDia, indexTurno, indexAlimento)"
                                  ng-change="alimento.nombre = null;"  />

					
		            <label class="btn btn-sm text-red" ng-click="plan.eliminarAlimento(indexAlimento,indexTurno,indexDia); $event.stopPropagation();"> 
		            	<i class="fa fa-trash" tooltip-placement="left" uib-tooltip="QUITAR!"></i> 
		            </label>
		        </div>
		        <div class="col-sm-4 col-xs-12 pl-0 pb-10">
		            <input type="text"  class="form-control input-sm col-sm-7" ng-model="turno.temporal"
							style="width: 90%;" autocomplete="off" placeholder="Digite el alimento..." 
                                  typeahead-loading="loadingLocations" 
                                  uib-typeahead="item as item.nombre for item in plan.getAlimentoAutocomplete($viewValue)" 
                                  typeahead-min-length="2" 
                                  typeahead-on-select="plan.getSelectedTemporalAlimento($item, $model, $label, indexDia, indexTurno)"
                                    />

					
		            <label class="btn btn-sm text-green" ng-click="plan.agregarAlimento(indexDia, indexTurno); $event.stopPropagation();"> 
		            	<i class="fa fa-plus" tooltip-placement="left" uib-tooltip="AGREGAR!"></i> 
		            </label>
		        </div>        
		    </form>           
         </div>        
    </div>    
</fieldset>
<div class="col-sm-12 mt-10" ng-if="plan.formaPlan == 'general'">
 	<label class="control-label minotaur-label pr-0" style="top: 6px;">Indicaciones:</label>
    <textarea class="form-control input-sm mb-10" ng-model="turno.indicaciones"></textarea>
 </div>